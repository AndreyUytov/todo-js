!function(e){var t=window.webpackHotUpdate;window.webpackHotUpdate=function(e,n){!function(e,t){if(!g[e]||!_[e])return;for(var n in _[e]=!1,t)Object.prototype.hasOwnProperty.call(t,n)&&(h[n]=t[n]);0==--k&&0===b&&E()}(e,n),t&&t(e,n)};var n,r=!0,o="19d401f1797e866f43a7",i={},s=[],a=[];function c(e){var t=L[e];if(!t)return R;var r=function(r){return t.hot.active?(L[r]?-1===L[r].parents.indexOf(e)&&L[r].parents.push(e):(s=[e],n=r),-1===t.children.indexOf(r)&&t.children.push(r)):(console.warn("[HMR] unexpected require("+r+") from disposed module "+e),s=[]),R(r)},o=function(e){return{configurable:!0,enumerable:!0,get:function(){return R[e]},set:function(t){R[e]=t}}};for(var i in R)Object.prototype.hasOwnProperty.call(R,i)&&"e"!==i&&"t"!==i&&Object.defineProperty(r,i,o(i));return r.e=function(e){return"ready"===d&&f("prepare"),b++,R.e(e).then(t,(function(e){throw t(),e}));function t(){b--,"prepare"===d&&(m[e]||T(e),0===b&&0===k&&E())}},r.t=function(e,t){return 1&t&&(e=r(e)),R.t(e,-2&t)},r}function l(t){var r={_acceptedDependencies:{},_declinedDependencies:{},_selfAccepted:!1,_selfDeclined:!1,_selfInvalidated:!1,_disposeHandlers:[],_main:n!==t,active:!0,accept:function(e,t){if(void 0===e)r._selfAccepted=!0;else if("function"==typeof e)r._selfAccepted=e;else if("object"==typeof e)for(var n=0;n<e.length;n++)r._acceptedDependencies[e[n]]=t||function(){};else r._acceptedDependencies[e]=t||function(){}},decline:function(e){if(void 0===e)r._selfDeclined=!0;else if("object"==typeof e)for(var t=0;t<e.length;t++)r._declinedDependencies[e[t]]=!0;else r._declinedDependencies[e]=!0},dispose:function(e){r._disposeHandlers.push(e)},addDisposeHandler:function(e){r._disposeHandlers.push(e)},removeDisposeHandler:function(e){var t=r._disposeHandlers.indexOf(e);t>=0&&r._disposeHandlers.splice(t,1)},invalidate:function(){switch(this._selfInvalidated=!0,d){case"idle":(h={})[t]=e[t],f("ready");break;case"ready":C(t);break;case"prepare":case"check":case"dispose":case"apply":(y=y||[]).push(t)}},check:w,apply:D,status:function(e){if(!e)return d;u.push(e)},addStatusHandler:function(e){u.push(e)},removeStatusHandler:function(e){var t=u.indexOf(e);t>=0&&u.splice(t,1)},data:i[t]};return n=void 0,r}var u=[],d="idle";function f(e){d=e;for(var t=0;t<u.length;t++)u[t].call(null,e)}var p,h,v,y,k=0,b=0,m={},_={},g={};function x(e){return+e+""===e?+e:e}function w(e){if("idle"!==d)throw new Error("check() is only allowed in idle status");return r=e,f("check"),(t=1e4,t=t||1e4,new Promise((function(e,n){if("undefined"==typeof XMLHttpRequest)return n(new Error("No browser support"));try{var r=new XMLHttpRequest,i=R.p+""+o+".hot-update.json";r.open("GET",i,!0),r.timeout=t,r.send(null)}catch(e){return n(e)}r.onreadystatechange=function(){if(4===r.readyState)if(0===r.status)n(new Error("Manifest request to "+i+" timed out."));else if(404===r.status)e();else if(200!==r.status&&304!==r.status)n(new Error("Manifest request to "+i+" failed."));else{try{var t=JSON.parse(r.responseText)}catch(e){return void n(e)}e(t)}}}))).then((function(e){if(!e)return f(S()?"ready":"idle"),null;_={},m={},g=e.c,v=e.h,f("prepare");var t=new Promise((function(e,t){p={resolve:e,reject:t}}));h={};return T(0),"prepare"===d&&0===b&&0===k&&E(),t}));var t}function T(e){g[e]?(_[e]=!0,k++,function(e){var t=document.createElement("script");t.charset="utf-8",t.src=R.p+""+e+"."+o+".hot-update.js",document.head.appendChild(t)}(e)):m[e]=!0}function E(){f("ready");var e=p;if(p=null,e)if(r)Promise.resolve().then((function(){return D(r)})).then((function(t){e.resolve(t)}),(function(t){e.reject(t)}));else{var t=[];for(var n in h)Object.prototype.hasOwnProperty.call(h,n)&&t.push(x(n));e.resolve(t)}}function D(t){if("ready"!==d)throw new Error("apply() is only allowed in ready status");return function t(r){var a,c,l,u,d;function p(e){for(var t=[e],n={},r=t.map((function(e){return{chain:[e],id:e}}));r.length>0;){var o=r.pop(),i=o.id,s=o.chain;if((u=L[i])&&(!u.hot._selfAccepted||u.hot._selfInvalidated)){if(u.hot._selfDeclined)return{type:"self-declined",chain:s,moduleId:i};if(u.hot._main)return{type:"unaccepted",chain:s,moduleId:i};for(var a=0;a<u.parents.length;a++){var c=u.parents[a],l=L[c];if(l){if(l.hot._declinedDependencies[i])return{type:"declined",chain:s.concat([c]),moduleId:i,parentId:c};-1===t.indexOf(c)&&(l.hot._acceptedDependencies[i]?(n[c]||(n[c]=[]),k(n[c],[i])):(delete n[c],t.push(c),r.push({chain:s.concat([c]),id:c})))}}}}return{type:"accepted",moduleId:e,outdatedModules:t,outdatedDependencies:n}}function k(e,t){for(var n=0;n<t.length;n++){var r=t[n];-1===e.indexOf(r)&&e.push(r)}}S();var b={},m=[],_={},w=function(){console.warn("[HMR] unexpected require("+E.moduleId+") to disposed module")};for(var T in h)if(Object.prototype.hasOwnProperty.call(h,T)){var E;d=x(T),E=h[T]?p(d):{type:"disposed",moduleId:T};var D=!1,C=!1,O=!1,A="";switch(E.chain&&(A="\nUpdate propagation: "+E.chain.join(" -> ")),E.type){case"self-declined":r.onDeclined&&r.onDeclined(E),r.ignoreDeclined||(D=new Error("Aborted because of self decline: "+E.moduleId+A));break;case"declined":r.onDeclined&&r.onDeclined(E),r.ignoreDeclined||(D=new Error("Aborted because of declined dependency: "+E.moduleId+" in "+E.parentId+A));break;case"unaccepted":r.onUnaccepted&&r.onUnaccepted(E),r.ignoreUnaccepted||(D=new Error("Aborted because "+d+" is not accepted"+A));break;case"accepted":r.onAccepted&&r.onAccepted(E),C=!0;break;case"disposed":r.onDisposed&&r.onDisposed(E),O=!0;break;default:throw new Error("Unexception type "+E.type)}if(D)return f("abort"),Promise.reject(D);if(C)for(d in _[d]=h[d],k(m,E.outdatedModules),E.outdatedDependencies)Object.prototype.hasOwnProperty.call(E.outdatedDependencies,d)&&(b[d]||(b[d]=[]),k(b[d],E.outdatedDependencies[d]));O&&(k(m,[E.moduleId]),_[d]=w)}var j,I=[];for(c=0;c<m.length;c++)d=m[c],L[d]&&L[d].hot._selfAccepted&&_[d]!==w&&!L[d].hot._selfInvalidated&&I.push({module:d,parents:L[d].parents.slice(),errorHandler:L[d].hot._selfAccepted});f("dispose"),Object.keys(g).forEach((function(e){!1===g[e]&&function(e){delete installedChunks[e]}(e)}));var M,H,P=m.slice();for(;P.length>0;)if(d=P.pop(),u=L[d]){var B={},N=u.hot._disposeHandlers;for(l=0;l<N.length;l++)(a=N[l])(B);for(i[d]=B,u.hot.active=!1,delete L[d],delete b[d],l=0;l<u.children.length;l++){var K=L[u.children[l]];K&&((j=K.parents.indexOf(d))>=0&&K.parents.splice(j,1))}}for(d in b)if(Object.prototype.hasOwnProperty.call(b,d)&&(u=L[d]))for(H=b[d],l=0;l<H.length;l++)M=H[l],(j=u.children.indexOf(M))>=0&&u.children.splice(j,1);f("apply"),void 0!==v&&(o=v,v=void 0);for(d in h=void 0,_)Object.prototype.hasOwnProperty.call(_,d)&&(e[d]=_[d]);var q=null;for(d in b)if(Object.prototype.hasOwnProperty.call(b,d)&&(u=L[d])){H=b[d];var U=[];for(c=0;c<H.length;c++)if(M=H[c],a=u.hot._acceptedDependencies[M]){if(-1!==U.indexOf(a))continue;U.push(a)}for(c=0;c<U.length;c++){a=U[c];try{a(H)}catch(e){r.onErrored&&r.onErrored({type:"accept-errored",moduleId:d,dependencyId:H[c],error:e}),r.ignoreErrored||q||(q=e)}}}for(c=0;c<I.length;c++){var z=I[c];d=z.module,s=z.parents,n=d;try{R(d)}catch(e){if("function"==typeof z.errorHandler)try{z.errorHandler(e)}catch(t){r.onErrored&&r.onErrored({type:"self-accept-error-handler-errored",moduleId:d,error:t,originalError:e}),r.ignoreErrored||q||(q=t),q||(q=e)}else r.onErrored&&r.onErrored({type:"self-accept-errored",moduleId:d,error:e}),r.ignoreErrored||q||(q=e)}}if(q)return f("fail"),Promise.reject(q);if(y)return t(r).then((function(e){return m.forEach((function(t){e.indexOf(t)<0&&e.push(t)})),e}));return f("idle"),new Promise((function(e){e(m)}))}(t=t||{})}function S(){if(y)return h||(h={}),y.forEach(C),y=void 0,!0}function C(t){Object.prototype.hasOwnProperty.call(h,t)||(h[t]=e[t])}var L={};function R(t){if(L[t])return L[t].exports;var n=L[t]={i:t,l:!1,exports:{},hot:l(t),parents:(a=s,s=[],a),children:[]};return e[t].call(n.exports,n,n.exports,c(t)),n.l=!0,n.exports}R.m=e,R.c=L,R.d=function(e,t,n){R.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},R.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},R.t=function(e,t){if(1&t&&(e=R(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(R.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)R.d(n,r,function(t){return e[t]}.bind(null,r));return n},R.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return R.d(t,"a",t),t},R.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},R.p="./",R.h=function(){return o},c(24)(R.s=24)}([function(e,t){function n(t){return e.exports=n=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},n(t)}e.exports=n},function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e,t){function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}e.exports=function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}},function(e,t,n){var r=n(8);e.exports=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&r(e,t)}},function(e,t,n){var r=n(16),o=n(9);e.exports=function(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?o(e):t}},function(e,t,n){var r=n(0),o=n(8),i=n(17),s=n(18);function a(t){var n="function"==typeof Map?new Map:void 0;return e.exports=a=function(e){if(null===e||!i(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==n){if(n.has(e))return n.get(e);n.set(e,t)}function t(){return s(e,arguments,r(this).constructor)}return t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),o(t,e)},a(t)}e.exports=a},function(e,t,n){"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=function(e,t){var n=e[1]||"",r=e[3];if(!r)return n;if(t&&"function"==typeof btoa){var o=(s=r,a=btoa(unescape(encodeURIComponent(JSON.stringify(s)))),c="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(a),"/*# ".concat(c," */")),i=r.sources.map((function(e){return"/*# sourceURL=".concat(r.sourceRoot||"").concat(e," */")}));return[n].concat(i).concat([o]).join("\n")}var s,a,c;return[n].join("\n")}(t,e);return t[2]?"@media ".concat(t[2]," {").concat(n,"}"):n})).join("")},t.i=function(e,n,r){"string"==typeof e&&(e=[[null,e,""]]);var o={};if(r)for(var i=0;i<this.length;i++){var s=this[i][0];null!=s&&(o[s]=!0)}for(var a=0;a<e.length;a++){var c=[].concat(e[a]);r&&o[c[0]]||(n&&(c[2]?c[2]="".concat(n," and ").concat(c[2]):c[2]=n),t.push(c))}},t}},function(e,t,n){var r=n(20),o=n(21),i=n(22),s=n(23);e.exports=function(e){return r(e)||o(e)||i(e)||s()}},function(e,t){function n(t,r){return e.exports=n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},n(t,r)}e.exports=n},function(e,t){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}},function(e,t){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}},function(e,t,n){"use strict";var r=n(6),o=n.n(r)()(!1);o.push([e.i,".header{margin-top:20px;margin-bottom:50px;background:#fff;box-shadow:0 20px 60px rgba(241,244,248,.5);border-radius:4px}.title{width:100%;margin:0;padding:0 10px;display:flex;justify-content:center;align-items:center;font-size:20px;line-height:28px}",""]),t.a=o},function(e,t,n){"use strict";var r=n(6),o=n.n(r)()(!1);o.push([e.i,"*{box-sizing:border-box}.visually-hidden:not(:focus):not(:active),input[type=checkbox].visually-hidden,input[type=radio].visually-hidden{position:absolute;width:1px;height:1px;margin:-1px;border:0;padding:0;white-space:nowrap;clip-path:inset(100%);clip:rect(0 0 0 0);overflow:hidden}task-elem{position:relative;width:100%}svg{width:18px;height:18px}.tasks-list{position:relative;margin:0;padding:0;flex-direction:column;justify-content:flex-start;list-style:none;background:#fff;box-shadow:0 20px 60px rgba(241,244,248,.5)}.task,.tasks-list{width:100%;display:flex;border-radius:4px}.task{height:50px;align-items:center;transition:.5s}.task:hover{box-shadow:0 5px 10px rgba(2,117,177,.5)}.task__label{position:relative;width:100%;height:100%;padding-left:35px;margin-right:10px;display:flex;align-items:center;font-size:15px;line-height:14px;cursor:pointer;user-select:none}.task__label:hover{color:var(--akcentColor)}.task__input:checked+.task__checkbox-marker{--display-checked:block}.task__checkbox-marker{position:absolute;left:10px;top:16px}.snap{width:40px;height:40px;display:flex;align-items:center;justify-content:center;border:none;background-color:transparent;cursor:pointer;outline:none}.snap:hover{--fill-style:var(--akcentColor)}.snap:active{transform:scale(1.15)}.task__redactBtn{margin-left:auto}.task__deleteBtn{margin:0 5px}redact-input{position:absolute;top:0;left:0;right:0;bottom:0}.redact__input{min-width:100%;height:50px;padding-left:10px;padding-right:55px;font-size:15px;border:none;outline:none}.redact__input:focus{outline:var(--akcentColor) solid 1px}.redact__btn{position:absolute;right:0;top:0;height:50px}",""]),t.a=o},function(e,t,n){"use strict";var r=n(6),o=n.n(r)()(!1);o.push([e.i,'*{box-sizing:border-box}.task-creator{position:relative;width:100%;margin-bottom:10px;display:flex;align-items:center;background:#fff;box-shadow:0 20px 60px rgba(241,244,248,.5);border-radius:4px}.task-creator__input{width:100%;height:40px;padding-left:10px;padding-right:45px;font-size:15px;border:none;outline:none}.task-creator__input:focus{outline:var(--akcentColor) solid 1px}.task-creator__btn{position:absolute;right:0;top:0;width:40px;height:40px;display:flex;align-items:center;justify-content:center;background:transparent;border:none;cursor:pointer;outline:none}.task-creator__btn:before{width:15px;height:1px}.task-creator__btn:after,.task-creator__btn:before{content:"";position:absolute;background-color:var(--akcentColor)}.task-creator__btn:after{width:1px;height:15px}.task-creator__btn:active,.task-creator__btn:hover{background-color:var(--akcentColor)}.task-creator__btn:active:after,.task-creator__btn:active:before,.task-creator__btn:hover:after,.task-creator__btn:hover:before{background-color:#fff}',""]),t.a=o},function(e,t,n){"use strict";var r=n(6),o=n.n(r)()(!1);o.push([e.i,":host{margin-top:10px;justify-content:center}.footer,:host{width:100%;display:flex;align-items:center}.footer{padding:10px;background:#fff;box-shadow:0 20px 60px rgba(241,244,248,.5);border-radius:4px}.footer,.footer__section{justify-content:space-between}.footer__section{height:75px;display:flex;flex-direction:column;align-items:flex-start}.footer__section:last-child{align-items:flex-end}.footer__description{padding:0;margin:0;text-transform:lowercase;font-style:italic;font-size:16px}.footer__description span{color:var(--akcentColor);font-weight:900}.btn{padding:10px;display:flex;justify-content:center;align-items:center;font-family:Gotham;font-size:12px;text-transform:uppercase;background-color:transparent;background-repeat:no-repeat;border:1px solid var(--akcentColor);border-radius:10px;cursor:pointer;outline:none}.btn:hover{background-color:var(--akcentColor);color:#fff}.btn:active{transform:scale(1.05)}",""]),t.a=o},function(e,t,n){},function(e,t){function n(t){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?e.exports=n=function(e){return typeof e}:e.exports=n=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(t)}e.exports=n},function(e,t){e.exports=function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}},function(e,t,n){var r=n(8),o=n(19);function i(t,n,s){return o()?e.exports=i=Reflect.construct:e.exports=i=function(e,t,n){var o=[null];o.push.apply(o,t);var i=new(Function.bind.apply(e,o));return n&&r(i,n.prototype),i},i.apply(null,arguments)}e.exports=i},function(e,t){e.exports=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}},function(e,t,n){var r=n(10);e.exports=function(e){if(Array.isArray(e))return r(e)}},function(e,t){e.exports=function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}},function(e,t,n){var r=n(10);e.exports=function(e,t){if(e){if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},function(e,t,n){"use strict";n.r(t);n(15);var r=n(1),o=n.n(r),i=n(2),s=n.n(i);var a=n(3),c=n.n(a),l=n(4),u=n.n(l),d=n(0),f=n.n(d),p=n(5),h=n.n(p),v=n(11);function y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=f()(e);if(t){var o=f()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return u()(this,n)}}var k=function(e){c()(n,e);var t=y(n);function n(){var e;return o()(this,n),(e=t.call(this)).attachShadow({mode:"open"}),e}return s()(n,[{key:"connectedCallback",value:function(){this.render()}},{key:"render",value:function(){this.shadowRoot.innerHTML="\n      <style>".concat(v.a,"</style>\n      <header class='header'>\n        <h1 class='title'>ToDo on JS whit web-components</h1>\n      </header>\n    ")}}]),n}(h()(HTMLElement));customElements.define("task-header",k);var b=n(7),m=n.n(b),_=n(9),g=n.n(_);function x(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=f()(e);if(t){var o=f()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return u()(this,n)}}var w=function(e){c()(n,e);var t=x(n);function n(e){var r,i=e.id,s=e.value,a=e.isDone,c=void 0!==a&&a;return o()(this,n),(r=t.call(this)).value=s,r.isDone=c,r._id=i,r._checkbox=null,r._labelText=null,r._checkboxIcon=null,r}return s()(n,[{key:"connectedCallback",value:function(){this.rendered||(this.render(),this.rendered=!0),this._checkbox=this.querySelector(".task__input"),this._labelText=this.querySelector(".task__text"),this._checkboxIcon=this.querySelector(".task__checkbox-marker")}},{key:"update",value:function(e){e?e.value!==this.value?this.value=e.value:e.isDone!==this.isDone&&(this.isDone=e.isDone):this.remove()}},{key:"render",value:function(){console.log("RENDER TASK!"),this.innerHTML="\n    <li class='task'>\n      <label class='task__label'>\n        <input type='checkbox' data-action='check'\n         class='task__input visually-hidden'\n        ".concat(this.isDone?"checked":""," />\n        <svg class='task__checkbox-marker'>\n          <use href='#checkbox-icon' />\n        </svg>\n        <span class='task__text'>").concat(this.value,"</span>\n      </label>\n      <button data-action='redact' class='task__redactBtn snap'>\n        <svg class='task__redactIcon'>\n          <use href='#edit-icon' class='task__redactUse' />\n        </svg>\n      </button>\n      <button data-action='delete' class='task__deleteBtn snap'>\n        <svg class='task__deleteIcon'>\n          <use href='#close-icon' class='task__deleteUse' />\n        </svg>\n      </button>\n    </li>\n  ")}},{key:"id",get:function(){return this._id}},{key:"isDone",set:function(e){this._isDone=e,this._checkbox&&(this._checkbox.checked=e)},get:function(){return this._checkbox?this._checkbox.checked:this._isDone}},{key:"value",set:function(e){this._labelText?this._labelText.textContent=this._text=e:this._text=e},get:function(){return this._text}}]),n}(h()(HTMLElement));customElements.define("task-elem",w);var T=w;function E(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=f()(e);if(t){var o=f()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return u()(this,n)}}var D=function(e){c()(n,e);var t=E(n);function n(e,r){var i;return o()(this,n),(i=t.call(this)).task=e,i._input=null,i.cb=function(e){e.preventDefault(),r({id:i.task.id,value:i._input.value,isDone:i.task.isDone}),i.remove()},i.onInputKeyDown=function(e){"Enter"===e.code&&i._input.blur()},i}return s()(n,[{key:"connectedCallback",value:function(){this.render(),this._input=this.querySelector(".redact__input"),this._input.value=this.task.value,this._input.focus(),this._input.addEventListener("blur",this.cb),this._input.addEventListener("keydown",this.onInputKeyDown)}},{key:"disconnectedCallback",value:function(){this._input.removeEventListener("blur",this.cb),this._input.removeEventListener("keydown",this.onInputKeyDown)}},{key:"render",value:function(){this.innerHTML="\n      <input type='text' class='redact__input' />\n      <button class='redact__btn snap'>\n        <svg class='redact__svg task__redactIcon'>\n          <use href='#edit-icon' class='task__redactUse' />\n        </svg>\n      </button>\n    "}}]),n}(h()(HTMLElement));customElements.define("redact-input",D);var S=D,C=n(12);function L(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return R(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return R(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,s=!0,a=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return s=e.done,e},e:function(e){a=!0,i=e},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw i}}}}function R(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function O(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=f()(e);if(t){var o=f()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return u()(this,n)}}var A=function(e){c()(n,e);var t=O(n);function n(e){var r,i,s=e.tasks,a=e.deleteTask,c=e.editTask,l=e.movingTask;return o()(this,n),(i=t.call(this)).tasks=s.map((function(e){return new T(e)})),i.deleteCallBack=a,i.editCallBack=c,i.attachShadow({mode:"open"}),i.ul=document.createElement("ul"),i.ul.className="tasks-list",(r=i.ul).append.apply(r,m()(i.tasks)),i.ul.addEventListener("click",(function(e){var t=e.target.closest("[data-action]");if(t){var n=t.dataset.action;if(n){var r=e.target.closest("task-elem");i[n](r)}}})),i.ul.addEventListener("pointerdown",(function(e){e.preventDefault(),function(e,t,n){e.preventDefault();var r=t.ul.offsetHeight,o=e.target.closest("task-elem"),i=o.offsetWidth;t.startY=e.clientY,t.dragNdropTimer=setTimeout((function(){t.ul.style.height=r+"px";var s=e.clientY-o.getBoundingClientRect().top;function a(e){o.style.top=e-s+"px"}o.style.width=i+"px",o.style.touchAction="pan-x",o.style.position="absolute",o.style.zIndex=1e3,t.shadowRoot.append(o),a(e.pageY);var c=null,l=null,u=function(e){e.preventDefault(),a(e.pageY),o.hidden=!0;var n=t.shadowRoot.elementFromPoint(e.clientX,e.clientY);if(o.hidden=!1,n){var r=n.closest("task-elem");if(c==r&&null!==c)c.getBoundingClientRect().bottom-e.clientY<=25?(c.style.borderTop="",c.style.borderBottom="1px solid var(--akcentColor)",l="after"):(c.style.borderBottom="",c.style.borderTop="1px solid var(--akcentColor)",l="before");c!=r&&(c&&(c.style.borderBottom="",c.style.borderTop=""),c=r)}};document.addEventListener("pointermove",u),document.addEventListener("pointerup",(function e(r){o.style.position="",o.style.top="",o.style.zIndex="",o.style.width="",t.ul.style.height="",c?(c[l](o),c.style.borderTop="",c.style.borderBottom=""):t.ul.append(o);var i,s=[],a=L(t.ul.querySelectorAll("task-elem"));try{for(a.s();!(i=a.n()).done;){var d=i.value;s.push(d.id)}}catch(e){a.e(e)}finally{a.f()}n(s),document.removeEventListener("pointermove",u),document.removeEventListener("pointerup",e)}))}),400)}(e,g()(i),l)})),i.ul.addEventListener("pointerup",(function(e){clearTimeout(i.dragNdropTimer)})),i.ul.addEventListener("click",(function(e){i.distance=Math.abs(i.startY-e.clientY),i.distance>20&&(e.preventDefault(),e.stopPropagation())}),!0),i}return s()(n,[{key:"connectedCallback",value:function(){this.render(),this.shadowRoot.append(this.ul)}},{key:"check",value:function(e){console.log(e.isDone,e.id),this.editCallBack(e)}},{key:"redact",value:function(e){var t=new S(e,this.editCallBack);e.append(t),console.log(e.value)}},{key:"delete",value:function(e){console.log(e),this.deleteCallBack(e)}},{key:"addTask",value:function(e){var t=new T(e);this.tasks=[t].concat(m()(this.tasks)),this.ul.prepend(t),console.log(this.tasks)}},{key:"update",value:function(e){if(e.length>this.tasks.length)return console.log(this.tasks.length,"from 1st"),void this.addTask(e[0]);if(e.length<=this.tasks.length){console.log(this.tasks.length,"from 2st");var t=[];return this.tasks.forEach((function(n){var r=e.find((function(e){return n.id===e.id}));n.update(r),r&&t.push(n)})),this.tasks=t,void console.log(this.tasks.length,"from 2st")}}},{key:"render",value:function(){console.log("RENDER TASK-LIST"),this.shadowRoot.innerHTML="\n    <style>".concat(C.a,"</style>\n    ").concat('\n<svg style=\'display:none;\'>\n<symbol id="edit-icon" width="17" height="17" viewBox="0 0 17 17" fill="none"    xmlns="http://www.w3.org/2000/svg">\n  <g clip-path="url(#clip0)">\n    <path d="M8.0257 3.61491H3.35903C3.00541 3.61491 2.66627 3.75539 2.41622 4.00544C2.16617 4.25549 2.0257 4.59463 2.0257 4.94825V14.2816C2.0257 14.6352 2.16617 14.9743 2.41622 15.2244C2.66627 15.4744 3.00541 15.6149 3.35903 15.6149H12.6924C13.046 15.6149 13.3851 15.4744 13.6352 15.2244C13.8852 14.9743 14.0257 14.6352 14.0257 14.2816V9.61491" stroke="#181818" style="stroke: var(--fill-style, #181818)" stroke-linecap="round" stroke-linejoin="round"/>\n    <path d="M13.0257 2.61484C13.2909 2.34962 13.6506 2.20062 14.0257 2.20062C14.4008 2.20062 14.7605 2.34962 15.0257 2.61484C15.2909 2.88005 15.4399 3.23976 15.4399 3.61484C15.4399 3.98991 15.2909 4.34962 15.0257 4.61484L8.69236 10.9482L6.0257 11.6148L6.69236 8.94817L13.0257 2.61484Z" stroke="#181818" style="stroke: var(--fill-style, #181818)" stroke-linecap="round" stroke-linejoin="round"/>\n  </g>\n  <defs>\n    <clipPath id="clip0">\n      <rect width="16" height="16" fill="white" transform="translate(0.692383 0.948242)"/>\n    </clipPath>\n  </defs>\n</symbol>\n\n<symbol\n    id="checkbox-icon"\n    width="18"\n    height="18"\n    viewBox="0 0 18 18"\n    fill="none"\n    xmlns="http://www.w3.org/2000/svg"\n  >\n    <path\n      d="M16 2V16H2V2H16ZM16 0H2C0.9 0 0 0.9 0 2V16C0 17.1 0.9 18 2 18H16C17.1 18 18 17.1 18 16V2C18 0.9 17.1 0 16 0Z"\n      style="fill: var(--fill-style,  #0275B1); display: var(--display-checkbox, block)"\n    />\n    <path d="M16 0H2C0.89 0 0 0.9 0 2V16C0 17.1 0.89 18 2 18H16C17.11 18 18 17.1 18 16V2C18 0.9 17.11 0 16 0ZM7 14L2 9L3.41 7.59L7 11.17L14.59 3.58L16 5L7 14Z" \n    style="fill: var(--fill-style,  #0275B1); display: var(--display-checked, none)"\n    />\n</symbol>\n\n<symbol id=\'close-icon\' width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">\n  <path d="M14.25 4.8075L13.1925 3.75L9 7.9425L4.8075 3.75L3.75 4.8075L7.9425 9L3.75 13.1925L4.8075 14.25L9 10.0575L13.1925 14.25L14.25 13.1925L10.0575 9L14.25 4.8075Z" style="fill: var(--fill-style,  #181818)"/>\n</symbol>\n\n</svg>\n')}}]),n}(h()(HTMLElement));customElements.define("task-list",A);var j=A,I=n(13);function M(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=f()(e);if(t){var o=f()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return u()(this,n)}}var H=function(e){c()(n,e);var t=M(n);function n(e){var r;return o()(this,n),(r=t.call(this)).attachShadow({mode:"open"}),r.addTaskCallBack=e,r._input=null,r._btn=null,r}return s()(n,[{key:"connectedCallback",value:function(){var e=this;this.render(),this._input=this.shadowRoot.querySelector(".task-creator__input"),this._input.addEventListener("keydown",(function(t){"Enter"===t.code&&(t.preventDefault(),e.onInputListener(e._input))})),this._btn=this.shadowRoot.querySelector(".task-creator__btn"),this._btn.addEventListener("click",(function(){e._input.focus(),e.onInputListener(e._input)}))}},{key:"onInputListener",value:function(e){e.value.trim()&&(this.addTaskCallBack(e.value.trim()),e.value="")}},{key:"render",value:function(){this.shadowRoot.innerHTML="\n    <style>".concat(I.a,"</style>\n    <section class='task-creator'>\n      <input type='text' class='task-creator__input' placeholder='Create new task' />\n      <button class='task-creator__btn'></button>\n    </section>\n  ")}}]),n}(h()(HTMLElement));customElements.define("task-creator",H);var P=H,B=n(14);function N(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=f()(e);if(t){var o=f()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return u()(this,n)}}var K=function(e){c()(n,e);var t=N(n);function n(e,r,i){var s;return o()(this,n),(s=t.call(this)).attachShadow({mode:"open"}),s.tasks=e,s._comleteTasks=null,s._allTasks=null,s._allCheckBtn=null,s._removeCheckedBtn=null,s.deleteCb=r,s.doAllTaskCompleteCb=i,s}return s()(n,[{key:"connectedCallback",value:function(){this.update(this.tasks)}},{key:"disconnectedCallback",value:function(){this._allCheckBtn.removeEventListener("click",this.doAllTaskCompleteCb),this._comleteTasks.removeEventListener("click",this.deleteCb)}},{key:"update",value:function(e){return this.tasks=e,this.tasks.length&&!this.rendered?(this.rendered=!0,this.render(),this._comleteTasks=this.shadowRoot.querySelector(".checked-tasks"),this._allTasks=this.shadowRoot.querySelector(".all-tasks"),this._allCheckBtn=this.shadowRoot.querySelector(".footer__check-all-btn"),this._removeCheckedBtn=this.shadowRoot.querySelector(".footer__remove-checked-btn"),this._allCheckBtn.addEventListener("click",this.doAllTaskCompleteCb),this._removeCheckedBtn.addEventListener("click",this.deleteCb),this._comleteTasks.textContent=this.tasks.filter((function(e){return!0===e.isDone})).length,void(this._allTasks.textContent=this.tasks.length)):this.tasks.length&&this.rendered?(this._comleteTasks.textContent=this.tasks.filter((function(e){return!0===e.isDone})).length,void(this._allTasks.textContent=this.tasks.length)):void(this.tasks.length||(this.rendered=!1,this.shadowRoot.innerHTML=""))}},{key:"render",value:function(){console.log("RENDER FOOTER!"),this.shadowRoot.innerHTML="\n      <style>".concat(B.a,"</style>\n      <footer class='footer'>\n        <div class='footer__section'>\n          <button class='footer__check-all-btn btn'>Check all</button>\n          <button class='footer__remove-checked-btn btn'>Remove checked</button>\n        </div>\n        <div class='footer__section'>\n          <p class='footer__description'>\n            Completed tasks:\n            <span class='checked-tasks'>1</span>\n          </p>\n          <p class='footer__description'>\n            All tasks:\n            <span class='all-tasks'>3</span>\n          </p>\n        </div>\n      </footer>\n    ")}}]),n}(h()(HTMLElement));customElements.define("task-footer",K);var q=K,U=function(){function e(t){var n=this;o()(this,e),this.store=t,this.deleteTask=this.deleteTask.bind(this),this.editTask=this.editTask.bind(this),this.addNewTask=this.addNewTask.bind(this),this.deleteCompleteTasks=this.deleteCompleteTasks.bind(this),this.doAllTasksComplete=this.doAllTasksComplete.bind(this),this.movingTask=this.movingTask.bind(this),this.header=new k,this.taskCreator=new P(this.addNewTask),this.taskList=new j({tasks:this.store.getState().tasks,deleteTask:this.deleteTask,editTask:this.editTask,movingTask:this.movingTask}),this.unsubscribeTaskList=this.store.subscribe((function(){return n.taskList.update(n.store.getState().tasks)})),this.footer=new q(this.store.getState().tasks,this.deleteCompleteTasks,this.doAllTasksComplete),this.unsubscribeFooter=this.store.subscribe((function(){return n.footer.update(n.store.getState().tasks)}))}return s()(e,[{key:"deleteCompleteTasks",value:function(){this.store.dispatch({type:"DELETE_COMPLETE_TASKS"})}},{key:"doAllTasksComplete",value:function(){this.store.dispatch({type:"DO_ALL_TASKS_COMPLETE"})}},{key:"deleteTask",value:function(e){this.store.dispatch({type:"DELETE_TASK",id:e.id})}},{key:"editTask",value:function(e){var t;this.store.dispatch({type:"EDIT_TASK",id:(t=e).id,value:t.value,isDone:t.isDone})}},{key:"addNewTask",value:function(e){var t=this.store.getState().counter;this.store.dispatch(function(e){var t=e.id;return{type:"ADD_NEW_TASK",value:e.value,id:t,isDone:!1}}({id:t,value:e}))}},{key:"movingTask",value:function(e){this.store.dispatch(function(e){return{type:"ORDER_TASKS",tasks:e}}(e))}},{key:"renderApp",value:function(){root.append(this.header,this.taskCreator,this.taskList,this.footer)}}]),e}();function z(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return V(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return V(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,s=!0,a=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return s=e.done,e},e:function(e){a=!0,i=e},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw i}}}}function V(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Y(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_NEW_TASK":return++e;default:return e}}function Z(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_NEW_TASK":return[{id:t.id,value:t.value,isDone:t.isDone}].concat(m()(e));case"EDIT_TASK":return e.reduce((function(e,n){return n.id===t.id?(n.isDone=t.isDone,n.value=t.value,e.push(n)):e.push(n),e}),[]);case"DELETE_TASK":return e.reduce((function(e,n){return n.id!==t.id&&e.push(n),e}),[]);case"DO_ALL_TASKS_COMPLETE":return e.reduce((function(e,t){return t.isDone=!0,e.push(t),e}),[]);case"DELETE_COMPLETE_TASKS":return e.reduce((function(e,t){return t.isDone||e.push(t),e}),[]);case"ORDER_TASKS":return t.tasks.map((function(t){return e.find((function(e){return e.id===t}))}));default:return e}}var F=JSON.parse(localStorage.getItem("todoState")),J=function(e,t){var n=t||{},r=e,o=new Set;function i(e){n=r(n,e);var t,i=z(o.values());try{for(i.s();!(t=i.n()).done;){(0,t.value)()}}catch(e){i.e(e)}finally{i.f()}return e}return i({type:"INIT"}),{getState:function(){return n},subscribe:function(e){return o.add(e),function(){o.delete(e)}},dispatch:i}}((function(e,t){return{counter:Y(e.counter,t),tasks:Z(e.tasks,t)}}),null!==F?F:{counter:0,tasks:[{id:0,value:"Для перетаскивания зажмите левую клавишу мыши на задаче",isDone:!1},{id:1,value:"Сделать свой drag-n-drop",isDone:!1},{id:2,value:"Сделать todo с веб-компонентами в стиле MVC",isDone:!1},{id:3,value:"Сделать свой createStore как в redux",isDone:!1}]});J.subscribe((function(){console.log(J.getState().tasks),localStorage.setItem("todoState",JSON.stringify(J.getState()))})),new U(J).renderApp()}]);